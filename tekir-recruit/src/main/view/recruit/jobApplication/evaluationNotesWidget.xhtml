<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:t="http://java.sun.com/jsf/composite/telveComponents"
                xmlns:p="http://primefaces.org/ui">

    #{evaluationNoteEditor.init(jobApplication,pageType)}

    <t:accordion id="evaluationNotes" icon="fa fa-file" label="Değerlendirmeler" columnClass="#{columnClass}">
        <div class="table-responsive no-padding">
            <p:dataTable var="ja" value="#{evaluationNoteEditor.entityList}" tableStyleClass="table table-condensed table-hover"
                         paginator="true" rows="5"
                         paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                         paginatorPosition="bottom" 
                         paginatorAlwaysVisible="false" >
                <p:column headerText="Değerlendiren">
                    <h:outputText value="#{ja.owner}"/>
                </p:column>
                <p:column headerText="Değerlendirme Puanı">
                    <h:outputText value="#{ja.rating}"/>
                </p:column>
                <p:column headerText="Sebep">
                    <h:outputText value="#{ja.state}" styleClass="label label-primary"/>
                </p:column>
                <p:column headerText="Detay">
                    <h:outputText value="#{ja.stateReason}" styleClass="label label-primary"/>
                </p:column>
                <p:column headerText="Sil">
                    <p:commandLink action="#{evaluationNoteEditor.deleteEvaluation()}" process="@this" styleClass="btn btn-box-tool" update="#{pageType eq 'EDIT' ? '@form:evaluationNotes' : ':evaluationNotes'}">
                        <i class="fa fa-trash" />
                        <h:outputText value="Sil" />
                        <p:confirm header="#{messages['general.caption.Confirm']}" message="#{messages['general.message.confirm.Delete']}" icon="fa fa-2x fa-exclamation-triangle btn-delete" />
                    </p:commandLink>
                </p:column>
            </p:dataTable>
        </div>
    </t:accordion>

</ui:composition>