<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:t="http://java.sun.com/jsf/composite/telveComponents"
	template="/layout/masterViewBase.xhtml">

	<ui:define name="content">
		<div class="row">	
			<div class="col-md-16 col-xs-12">
				<t:accordion icon="fa fa-file-text"  label="general.label.Pipeline" columnClass="col-xs-12">
				<p:diagram responsive="true" style="height:50px" value="#{processHome.diagramModel}" styleClass="ui-widget-content" />					
				</t:accordion>
			</div>
		</div>
		<div class="row">
			<div class="col-md-8 col-xs-12">
				<t:accordion icon="fa fa-file" id="cx" label="general.label.ReleatedVouchers" columnClass="col-xs-12">
                	<ul class="products-list product-list-in-box">
                    	<ui:repeat value="#{processHome.txnList}" var="ci" >
                        	<li class="item">
                            	<t:cellOutputFeatureLink label="#{ci.feature.feature}" value="#{featureController.getFeatureLink(ci.feature)}" columnClass="col-xs-12"/>
	                               <span class="text-muted pull-right">#{ci.feature.businessKey}</span>
	                               <div class="text-sm">
	                                   #{ci.info}
	                               </div>
	                               <div class="text-sm">
	                                   #{ci.date}
	                               </div>
                       	 	</li>
                       	</ui:repeat>
                   	</ul>
              	</t:accordion>  
  			 </div>
  		 
	         	<div class="col-md-4 col-xs-12">
		             <ui:include src="/notes/noteWidget.xhtml">
		                 <ui:param name="featurePointer" value="#{processHome.featurePointer}" />
		             </ui:include>
		             
		             <ui:include src="/feeds/feedWidget.xhtml">
		                 <ui:param name="feature" value="#{processHome.featureClass.simpleName}" />
		                 <ui:param name="pk" value="#{processHome.entity.id}" />
		             </ui:include>
	        	 </div>   		
		</div>
		<style type="text/css">
			.ui-diagram-element {
				border: 0.2em groove #d4e06b;
				text-align: center;
				box-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
				border-radius: 1px;
				border: 1px solid transparent;
				background-color: #98AFC7;
				color: #ffffff;
			}
			
			.ui-diagram-unchecked {
				background-color: #C34A2C;
				color: #ffffff;
			}
			
			.ui-diagram-checked {
				background-color: #9CB071;
				color: #ffffff;
			}
		</style>
	</ui:define>
</ui:composition>